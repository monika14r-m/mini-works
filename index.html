<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>ðŸ“¸ Polaroid Editor - Create Stunning Instant Photos</title>
  <meta name="description" content="Transform your photos with stunning effects, frames, and filters. Mobile-friendly polaroid photo editor with glass-morphism design.">
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Creepster&family=Orbitron:wght@400;700&family=Courier+Prime&family=Bungee&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body data-theme="dark">
  <!-- Header -->
  <header class="glass-morphism sticky top-0 z-50 px-4 py-3 lg:px-6">
    <div class="header-content">
      <div class="header-brand">
        <div class="brand-icon">
          <i class="fas fa-camera"></i>
        </div>
        <h1 class="brand-title">Polaroid Editor</h1>
      </div>
      <button id="themeToggle" class="theme-toggle">
        <i class="fas fa-sun"></i>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <div class="content-container">
      <!-- Polaroid Strip Canvas Output -->
      <div class="strip-preview">
        <canvas id="stripCanvas" width="400" height="1500"></canvas>
        <div class="strip-frame-options">
          <label for="stripColor">Strip Color:</label>
          <input type="color" id="stripColor" value="#ffffff">
        </div>
      </div>

      <!-- Capture Controls -->
      <div class="capture-controls">
        <video id="videoPreview" autoplay playsinline width="400" height="300"></video>
        <button class="btn" id="startCamera">Start Camera</button>
        <div class="strip-capture">
          <button class="btn" data-slot="0">Capture 1</button>
          <button class="btn" data-slot="1">Capture 2</button>
          <button class="btn" data-slot="2">Capture 3</button>
        </div>
        <button class="btn btn-success" id="downloadStrip">Download Strip</button>
      </div>
    </div>
  </main>

  <script>
    const startCameraBtn = document.getElementById("startCamera");
    const video = document.getElementById("videoPreview");
    const stripCanvas = document.getElementById("stripCanvas");
    const stripCtx = stripCanvas.getContext("2d");
    const captureBtns = document.querySelectorAll(".strip-capture button");
    const stripColorPicker = document.getElementById("stripColor");
    const downloadStripBtn = document.getElementById("downloadStrip");

    const frameHeight = 500;
    let videoStream;

    startCameraBtn.onclick = async () => {
      videoStream = await navigator.mediaDevices.getUserMedia({ video: true });
      video.srcObject = videoStream;
    };

    captureBtns.forEach(btn => {
      btn.onclick = () => {
        const slot = parseInt(btn.dataset.slot);
        stripCtx.fillStyle = stripColorPicker.value;
        stripCtx.fillRect(0, slot * frameHeight, stripCanvas.width, frameHeight);
        stripCtx.drawImage(video, 0, slot * frameHeight + 50, 400, 400);

        // Optional: Draw white border like a polaroid frame
        stripCtx.fillStyle = "#fff";
        stripCtx.fillRect(0, slot * frameHeight, 400, 500);
        stripCtx.drawImage(video, 25, slot * frameHeight + 25, 350, 350);
      };
    });

    downloadStripBtn.onclick = () => {
      const link = document.createElement("a");
      link.download = "polaroid-strip.png";
      link.href = stripCanvas.toDataURL();
      link.click();
    };
  </script>
</body>
</html>
